{% extends 'baseFronted.html.twig' %}

{% block title %}<title>Appointment index</title>{% endblock %}
{% block body %}
<style>



</style>
<div class="container mt-4">
    <h1 class="mb-4">Appointment index</h1>
    <table class="table table-borderless table-data3">
        <thead class="thead-dark">
            <tr>
                <th scope="col">Id</th>
                  <th scope="col">Offer ID</th>
                   <!-- Added Offer ID column -->
                <th scope="col">Appointment date</th>
                <th scope="col">Hour </th>
                <th scope="col">location</th>
                <th scope="col">candidate email</th>
                <th scope="col">Email Company Representative</th>
                <th scope="col">Actions</th>
            </tr>
        </thead>
        <tbody>
        <form action="{{ path('app_rendezvous_index') }}" method="get" class="filter-form">
    <label for="lieu">Lieu:</label>
    <input type="text" id="lieu" name="lieu" class="filter-input">
    <label for="emailRepresen">Email Company Representative:</label>
    <input type="text" id="emailRepresen" name="emailRepresen" class="filter-input">
    <input type="submit" value="Filter" class="filter-button">
</form>

            {% for rendezvou in rendezvouses %}
    <tr>
        <td>{{ rendezvou.id }}</td>
        <td>{{ rendezvou.offer.id }}</td>
         <!-- Display Offer ID -->
        <td>{{ rendezvou.dateRendez ? rendezvou.dateRendez|date('Y-m-d') : '' }}</td>
        <td>{{ rendezvou.heureRendez }}</td>
        <td>{{ rendezvou.lieu }}</td>
        <td>{{ rendezvou.emailCondi }}</td>
        <td>{{ rendezvou.emailRepresen }}</td>
        <td>
            <a href="{{ path('app_rendezvous_show', {'id': rendezvou.id}) }}" class="btn btn-danger btn-sm">Show</a>

            <a href="{{ path('app_rendezvous_edit', {'id': rendezvou.id}) }}" class="btn btn-danger btn-sm">Edit</a>
            <form action="{{ path('app_rendezvous_delete', {'id': rendezvou.id}) }}" method="post" style="display: inline-block;">
                <input type="hidden" name="_method" value="DELETE">
                <input type="hidden" name="_token" value="{{ csrf_token('delete' ~ rendezvou.id) }}">
                <button type="submit" class="btn btn-danger btn-sm" onclick="return confirm('Are you sure you want to delete this item?')">Delete</button>
            </form>
        </td>
    </tr>
{% else %}
    <tr>
        <td colspan="8">No records found</td>
    </tr>
{% endfor %}
        

        </tbody>
    </table>
    <div class="text-center">
    <a href="{{ path('app_rendezvous_new') }}" class="btn btn-primary create-new-button" style="margin-bottom: 20px;">Create new</a>
</div>
 <div class="navigation">
            <ul class="pagination">
                <li class="page-item">
                    {% if rendezvouses.currentPageNumber > 1 %}
                        <a href="{{ path('app_rendezvous_index', {'page': rendezvouses.currentPageNumber - 1}) }}" class="page-link pagination-button">Previous</a>
                    {% else %}
                        <span class="page-link pagination-button disabled">Previous</span>
                    {% endif %}
                </li>
                <li class="page-item">
                    {% if rendezvouses.currentPageNumber < rendezvouses.pageCount %}
                        <a href="{{ path('app_rendezvous_index', {'page': rendezvouses.currentPageNumber + 1}) }}" class="page-link pagination-button">Next</a>
                    {% else %}
                        <span class="page-link pagination-button disabled">Next</span>
                    {% endif %}
                </li>
            </ul>
        </div>
       </style>


   
{% endblock %}
